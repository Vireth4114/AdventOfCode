print(sum(l[0]for(l)in[[int(i)for(i)in(l.replace(':','').split(' '))]for(l)in(open('input/7').read().splitlines())]if(any(__import__('functools').reduce(lambda x,y:next(o)(x,y),l[1:])==l[0]for(o)in[iter(o)for(o)in(__import__('itertools').product((__import__('operator').add,__import__('operator').mul),repeat=len(l)-2))]))), sum(l[0]for(l)in[[int(i)for(i)in(l.replace(':','').split(' '))]for(l)in(open('input/7').read().splitlines())]if(any(__import__('functools').reduce(lambda x,y:next(o)(x,y),l[1:])==l[0]for(o)in[iter(o)for(o)in(__import__('itertools').product((__import__('operator').add,__import__('operator').mul,lambda x,y:int(f"{x}{y}")),repeat=len(l)-2))]))))

